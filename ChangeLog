2014-07-09  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab/collocations.py:

	- Contain visualisation information in central dict
	- Extract bare colloc map code for getting dual-colloc map
	- Write no. of unique for each side of the pair

2014-06-25  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab/datasets.py:

	- Permit doy

2014-06-20  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-33

	* pyatmlab/collocations.py:

	- Implement one-directional smoothing

	* pyatmlab/datasets.py:

	- Add default p profile for TANSO

2014-06-10  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-32

	* pyatmlab/collocations.py(CollocatedDataset):

	- Bugfix: when reading many primaries, keep track of what secondaries
	already were returned; we don't want [(A1, B1), (A2, B1)] if both A
	and B are going to be concatenated in one yield!

	- Bugfix: have a small timedelta when considering segments, so we
	don't try to find new collocations for a 0.001 second period.

	- Bugfix: Make sure batches that are written to disk cover the full
	segment, without leaving any gaps, even if those gaps are verified to
	be free of collocations.

	* pyatmlab/datasets.py:

	- Use an OrderedDict rather than a dict when collecting header and
	body info, to guarantee that the subsequently converted dtype is
	consistent.

	- Give up on masked arrays.  They are buggy as hell.

2014-06-09  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-31

	* pyatmlab/collocations.py(CollocatedDataset):

	- Add capability to store collocations

	- Add capability to read collocations

	- Added higher-level collocation getting that will collocate as
	needed, read from disk as possible

	* pyatmlab/constants.py:

	- Added KB, KiB, MB, MiB

	* pyatmlab/dataset.py(HomemadeDataset):

	- Added capability to find granule given time

2014-06-05  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-30

	* pyatmlab/collocations.py:

	(CollocatedDataset):

	- When reading aggregated pairs, collect both primary and secondary.
	No reason to yield before having read plenty of data.

	- When collocating, make sure there are enough time bins.  Otherwise
	collocating will fail if time span is shorter than one bin.

	* pyatmlab/dataset.py:

	(Dataset):

	- When reading many, also catch OSError

	(MultiFileDataset): bugfixes

	(SingleMeasurementPerFileDataset):

	- Allow any header information, not just lat/lon/time

	(HomemadeDataset):

	- Comment out quicksave method for now, still not doing anything with
	it.

	* pyatmlab/datasets.py:

	(TansoFTS):

	- Also read ID

2014-05-15  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-29

	* pyatmlab/collocations.py:

	(CollocatedDataset.collocate): 
	
	- Fixed bug that caused duplicates near
	the poles, due to the number of longitude bins being considered
	exceeding the width of the Earth.

	(CollocationDescriber):

	- Also write out data for plots

	- For map, also add dashed line connecting pair to legend

	- Fix bug with text location for non-stationary map

	- Consider more statistics

	(find_collocation_duplicates):

	- Small function, belongs rather in test, may move later

	* pyatmlab/dataset.py:

	- Adapt for read functions now taking a fields argument

	- read_all too should be able to skip on error

	- Use new mutable cache rather than lru_cache that doesn't take
	non-hashable arguments

	* pyatmlab/datasets.py:

	- Also take v3.5 for ACE

	* pyatmlab/graphics.py:

	- Also use plotdatadir.  Perhaps doesn't belong in this module?

	* pyatmlab/tools.py:

	(mutable_cache):

	- Added, like lru_cache but can have mutable arguments.  Tried to use
	pickle but not all is picklable, currently using suboptimal way of
	str-representation of arguments

2014-05-06  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-28

	* pyatmlab/collocations.py:

	(CollocatedDataset):

	- Keep track of size in read_aggregated_pairs, don't hog memory, read
	at most 100 MB.

	(CollocationDescriber):

	- Start work on filter

	(interpolate_profiles):

	- Interpolate profiles on common grids

	(compare_profiles):

	- Return percentiles for difference, square difference, ratio

	(visualise_profile_comparison):

	- And plot this, using different linestyles

	* pyatmlab/dataset.py:

	- If the server is read-only, open granule start times read-only.

	* pyatmlab/datasets.py:

	(TansoFTS):

	- Fix CH4_profile alias

	- Convert ppm -> ppv on reading already

	- Use hstack to concat scalar to profile

	- Convert z to metre

	* pyatmlab/physics.py:

	(p2z_oversimplified):

	- Also permit numpy.ndarray, which can be a scalar (strang numpy
	corner case of array([0]) with ndim=0 not being like
	numpy.float32(0))

	* pyatmlab/tools.py:

	(_validate_one):

	- When stuff goes wrong, write more info, such as type and function
	name

2014-05-02  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-27

	* pyatmlab/collocations.py:

	(CollocationDescriber.compare_profile):

	- Started work on this method.  Unfinished.

	* pyatmlab/dataset.py:

	- Added field 'aliases'

	- Added class 'ProfileDataset' as mixin for any data-specific methods

	* pyatmlab/datasets.py:

	(TansoFTS):

	- Also derive from ProfileDataset
	- Add aliase
	- Implement get_z (work in progress, DRY!)

	(AceFTS):

	- Add aliases and implement get_z (trivial here)

2014-05-01  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-26

	* pyatmlab/collocations.py:

	(CollocatedDataset):

	- Be less verbose

	(CollocationDescriber):

	- Plot sat-sat collocations in a good way

2014-04-30  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-25

	* pyatlmab/dataset.py:

	- Add homegrown exception for any invalid file stuff

	(Dataset):

	- Don't try to read eternity
	- Log when reading granule

	(MultiFileDataset):

	- Catch error when start/end times not available

	* pyatlmab/datasets.py(ACEFTS):

	- Properly report error if file seems empty

	* pyatmlab/tools.py:

	(disk_lru_cache): Like lru_cache but stored on disk, and simpler

	
	* setup.py: Remove local/

	* local/: Deleted

2014-04-23  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-24

	* pyatmlab/collocations.py(CollocationDescriber):

	- Added new class for describing, visualising, etc. collocations.
	Currently contains lots of hardcoded stuff, but that should improve
	later on.

2014-04-22  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-23

	* pyatmlab/collocations.py(CollocatedDataset.collocate):

	- Fix bug causing collocations to be missed if in the last time or
	latitude bin
	- Make sure there are always at least two bins or binning will be
	problematic

	* pyatmlab/constants.py:

	- Added R, M_d, M_w

	* pyatmlab/datasets.py(TansoFTS):

	- More accurate pressure-to-elevation conversion
	
	* pyatmlab/local/datasets.py:

	- Fix TANSO path

	* pyatmlab/physics.py:

	- Add more accurate p2z-conversion, mostly stolen from atmlab

	* pyatmlab/tools.py:

	- For the validator, allow multiple validations

2014-04-11  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-22

	* pyatmlab/collocations.py:

	- Some small changes and bugfixes

	* pyatmlab/tools.py:

	- Added generic cat function for numpy.array or numpy.ma.array

2014-04-09  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-21

	* pyatmlab/collocations.py:

	- Add logging

	(CollocatedDataset.read_aggregated_pairs):

	- Iterate through aggregated pairs of granules

	(CollocatedDataset.collocate_period):

	- Collocate a longer period of time

	(CollocatedDataset.collocate):

	- Always return ndarray
	- Fix bug, now using linspace rather than arange to create bins, to
	make sure all data are always contained by the bins.  Verify this
	explicitly, RuntimeError if it isn't.
	- Work with indices instead of copying data

	(CollocatedDataset._collocate_bucket):

	- Work with indices and always return ndarray

	* pyatmlab/dataset.py:

	- Add name attribute

	(Dataset.read):

	- Also accept pathlib.Path object

	* pyatmlab/datasets.py:

	(NDACCAmes.get_time_from_granule_contents):

	- Need to read entire granule for times, discovered that I can't trust
	the header

	(NDACCAmes._read), (ACEFTS._read):

	- Fix lons outside (-180, 80)

	* pyatmlab/geo.py:

	(shift_longitudes): Be more liberal in accepted data

	(valid_geo): Check if geo-data (lat/lon) are valid

	* pyatmlab/local/datasets.py:

	- Use name for all datasets

	* pyatmlab/tools.py:

	(validate): Don't write out value if it's too long

2014-04-08  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-20

	* pyatmlab/collocations.py:

	- Add method find_granule_pairs that will yield all pairs of granules
	with potential time-overlap

	* pyatmlab/dataset{,s}.py:

	- Rename granules_for_period -> find_granules

	- Pass read through functools.lru_cache, do actual work in _read

	(MultiFileDataset):

	- pass time-hints as dict not sequence

	* pyatmlab/local/datasets.py:

	- Use granule_cache_file

2014-04-08  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-19

	* pyatmlab/dataset.py:

	- Added new method granules_for_period_sorted

	(MultiFileDataset):

	- Always cache granule time results

	* pyatmlab/datasets.py:

	(NDACCAmes): Implemented get_time_from_granule_contents

	* pyatmlab/local/datasets.py:

	- Added start and end dates for ndacc_ames_eureka

2014-04-07  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-18

	* pyatmlab/collocations.py(CollocatedDataset):

	- Added some notes on essential TODO-optimisations in collocation
	algorithm.

	- Return same type (masked or not) as input

	* pyatmlab/dataset.py:

	(Dataset):

	- Read robustly, when reading many files, don't fail if a single one
	has a problem (optionally)

	(MultiFileDataset):

	- Have datefields and refields as attributes

	- Helper method _getyear

	- More appropriate implementation in _get_times_for_granule

	* pyatmlab/datasets.py:

	- Moved from pyatmlab/local/datasets.py

	- Renamed NDACCGainesBruker to NDACCAmes

	* pyatmlab/geo.py:

	- Started file, small utility to shift longitudes to common grid,
	should be used for collocation grid estimation

	* pyatmlab/local/datasets.py:

	- Moved all content that is not really local to its own file, keep
	only skeleton here
2014-04-04  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatlmlab-0-0-17

	* pyatmlab/dataset.py:

	(Dataset):

	- Masked arrays don't play well together with datetime64.  Retreat to
	unmasked arrays when needed.

	(MultiFileDataset):

	- New class containing functionality for any dataset spread over
	multiple files.

	(SingleMeasurementPerFileDataset):

	- Special case of MultiFileDataset

	* pyatmlab/local/datasets.py:

	(ACEFTS):

	- First implementation for a SingleMeasurementPerFileDataset

	* pyatmlab/math.py:

	- Added function to calculate average position on a sphere

	* pyatmlab/tools.py:

	- Added warning that validator doesn't work with *args, **kwargs

	* setup.py:

	- Needs Python 3.4 (sorry)

2014-03-19  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-16

	* pyatmlab/collocations.py:

	- Added missing import

	(CollocatedDataset):

	- Preserve masked array when concatenating collocs

	* pyatmlab/graphics.py:

	- Added missing import

	* pyatmlab/local/datasets.py:

	(TansoFTS):

	- Added method vmr_to_column_density

	(TansoFTS.read):

	- Add both raw *and* interpolated profiles

2014-03-18  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-15

	* pyatmlab/constants.py:

	- Added ppm, ppb, ppt

	* pyatmlab/graphics.py:

	- Added missing import

	* pyatmlab/local/datasets.py(TansoFTS):

	- Revert to interpolated profiles, easier to deal with
	- Added fields holding pressure profiles for temperature, ch4

	* pyatmlab/physics.py(vmr2nd):

	- Added conversion function

	(p2z_oversimplified):

	- Added oversimplified p2z function

2014-03-14  Gerrit Holl  <gerrit.holl@utoronto.ca>:

	* pyatmlab-0-0-14

	* pyatmlab/collocations.py(CollocatedDataset):

	- fix remaining bugs.  It works now.

	* pyatmlab/local/datasets.py:

	- Add name field to both classes

	* pyatmlab/stats.py:

	- Bugfix (was a hard find)

2014-03-13  Gerrit Holl  <gerrit.holl@utoronto.ca>

	* pyatmlab-0-0-13

	* pyatmlab/collocations.py(CollocatedDataset):

	- Renamed some attributes

	- Added property for max_interval, which is always a timedelta64
	object

	- Fixed the implementation of collocate and _collocate_bucket.  Seems
	correct now.

	* pyatmlab/dataset.py:
	
	(Dataset):

	- Fixed __setattr__ for properties
	- Added dummy implementation for abstract methods

	(NDACCGainesBruker.read):

	- Correctly add datetime64 to time field
	- Hard-coded fix for lat/lon

	* pyatmlab/stats.py(bin_nd):

	- Added some checks that bins are correct

	- Don't .pop() off bins/binners, just take the last value and pass
	all-but-one on; passed on value should in any case be a *copy*, not a
	reference!

	- It didn't work at all for >2 dimensions.  Now it seems correct.


2014-03-12  Gerrit Holl  <gerrit.holl@utoronto.ca>

	* pyatmlab-0-0-12

	* pyatmlab/collocations.py:

	- Added, started CollocatedDataset definition.  Most of the work is in
	the method .collocate and ._collocate_bucket, which collocates two
	ndarrays in lat/lon/time.  To be tested!

	* pyatmlab/dataset.py:

	- Added a .read_all() method.  Now and here an alias of read_period()
	without arguments.  Also added a HomemadeDataset class, currently
	empty.

	* pyatmlab/local/:

	- New directory, will contain stuff actually localised for my place,
	but can be adapted by users on other sites.

	* setup.py: Also include pyatmlab.local

2014-03-06  Gerrit Holl  <gerrit.holl@utoronto.ca>

	* pyatmlab-0-0-11

	* pyatmlab/dataset.py:

	- Fixed syntax for metaclass
	- Don't use ugly wanted attribute, rather just insist attributes exist
	in class, dynamically adding is asking for bugs imnsho
	- Fixed syntax for abstract methods

2014-03-05  Gerrit Holl  <gerrit.holl@utoronto.ca>

	* pyatmlab-0-0-10

	* pyatmlab/dataset.py:

	- Started classes abstracting datasets

2014-02-12  Gerrit Holl  <gerrit.holl@smhi.se>

	* pyatmlab-0-0-9

	* pyatmlab/db.py(AtmosphericDatabase):

	- Added __getitem__ and __setitem__ ability to set new fields, i.e.
	db["IWV"] = some_calculation(db.data).

	* pyatmlab/instruments.py:

	- Fix some small buggies

2014-01-10  Gerrit Holl  <gerrit.holl@smhi.se>

	* pyatmlab-0-0-8

	* pyatmlab/physics.py:

	(mixingratio2density): Expand doc

	(rh2mixingratio): added

	(specific2iwv): Fix doc

	(rh2iwv): added

	(mixingratio2iwv): added

	* pyatmlab/arts.py: Removed, unused

	* pyatmlab/{graphics,instruments}: Do not expose 'now'

	* pyatmlab/tools.py: Fix sphinx-syntax-error in docstring

	* doc/source/index.rst:

	Added db, instruments

2014-01-09  Gerrit Holl  <gerrit.holl@smhi.se>

	* pyatmlab-0-0-7

	* pyatmlab/graphics.py:
	
	(print_or_show): Write ints as ints

	(datadir): Move to io.py

	* pyatmlab/instruments.py: Added.  Contains classes to describe
	instruments, channels, write out SRFs, and more.  Mostly copied from
	PyARTS.  Also contains some channel definitions.

	* pyatmlab/io.py:

	(write_matrix_as_latex_table): Added.  Somewhat inflexible code to
	write out a 2-D array as a LaTeX table.

	(datadir): Moved from graphics.py

	* pyatmlab/physics.py:

	(wavelength2frequency) (wavenumber2frequency) (frequency2wavelength)
	(frequency2wavenumber): Added.  Mostly copied from PyARTS.

	* pyatmlab/tools.py:

	(validate): Validate function with arguments, using annotations.

	(validator): Decorator to do the same

2013-12-17  Gerrit Holl  <gerrit.holl@smhi.se>

	* pyatmlab-0-0-6

	* doc/source/index.rst: Add new modules

	* pyatmlab/constants.py: Added.  Various constants.

	* pyatmlab/io.py(get_chevallier_arts_path):  Added.  Return path to
	Chevallier-formatted-for-ARTS data.  Does not add any dependency.

	* pyatmlab/math.py: Added.  Small maths utilities.

	* pyatmlab/meta.py(expanddoc): Added.  Docstring decorator helper.

	* pyatmlab/physics.py: Added.  Small physics utilities.

	* pyatmlab/stats.py(bin_nd): Recursive n-dimensional bucketing.

	* pyatmlab/tools.py: Added switch-class-recipe.

2013-12-13  Gerrit Holl  <gerrit.holl@smhi.se>

	* pyatmlab-0-0-5

	* pyatmlab/__init__.py: Add docstring

	* pyatmlab/arts.py: Added, but effectively empty, use PyARTS for now

	* pyatmlab/config.py: Reread configuration every time, don't cache

	* pyatmlab/graphics.py: Copy some utility functions from my private trove

	* pyatmlab/tools.py -> pyatmlab/meta.py: Rename

	* pyatmlab/stats.py: Added, utility statistical thingies

	* setup.py, doc/source/conf.py: Adapt for renaming tools -> meta

	* doc/source/index.rst: Add meta module

2013-12-12  Gerrit Holl  <gerrit.holl@smhi.se>

	* pyatmlab-0-0-4

	* pyatmlab/config.py: Forgot to import os.path

	* pyatmlab/io.py: Rearrange function behaviours

2013-12-12  Gerrit Holl  <gerrit.holl@smhi.se>

	* pyatmlab-0-0-3

	* doc/source/conf.py: Automagically obtain version

	* pyatmlab/io.py: Fix syntax error in docstring

	* pyatmlab/tools.py: Added.  Contains various functions.

	* setup.py: Moved function to read ChangeLog to tools, call from there

2013-12-12  Gerrit Holl  <gerrit.holl@smhi.se>

	* pyatmlab-0-0-2

	* pyatmlab/io.py: Improve docs

	* setup.py: Automagically obtain version, fix e-mail addy

2013-12-12  Gerrit Holl  <gerrit.holl@smhi.se>

	* pyatmlab-0-0-1

	* LICENSE: Fixed name, added e-mail.

	* doc/Makefile, doc/source/conf.py: Added, made by sphinx

	* doc/source/index.rst: Added.  First docs, initiateted by sphinx.

	* pyatmlab/config.py: Added.  Started configuration framework.

	* pyatmlab/io.py: Added.  Copied Chevallier reading from PyARTS.

	* pyatmlab/setup.py: Added, made by setuptools.
